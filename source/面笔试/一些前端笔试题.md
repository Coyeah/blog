| 题目           | 创建时间            | 标签        |
| -------------- | ------------------- | ----------- |
| 一些前端笔试题 | 2018-05-06 11:29:51 | 笔试题/前端 |

------

## 1.解析URL的参数

> // 尽可能全面正确的解析一个任意url的所有参数为Object。
> var url = 'http://www.domain.com/?user=anonymous&id=123&id=456&city=%E5%8C%97%E4%BA%AC&enabled';
> parseParam(url);
> 结果：
> {
>    user: 'anonymous',
>    id: [123, 456], // 重复出现的 key 要组装成数组，能被转成数字的就转成数字类型
>    city: '北京', // 中文
>    enabled: true, // 未指定值的 key 约定值为 true
> }

```JavaScript
function parseParam(url) {
  if (url.indexOf("?") == -1) return null;

  let arr = url.slice(url.indexOf("?") + 1).split("&");
  let param = new Object();

  for (let i = 0; i < arr.length; i++) {
    let key = arr[i];

    if (key.indexOf("=") != -1) {
      if (param[arr[i].split("=")[0]] == null) {
        param[arr[i].split("=")[0]] = typeJudge(key.split("=")[1]);
      } else {
        if (param[arr[i].split("=")[0]] instanceof Array) {
          param[arr[i].split("=")[0]].push(typeJudge(key.split("=")[1]));
        } else {
          param[arr[i].split("=")[0]] = [param[arr[i].split("=")[0]], typeJudge(key.split("=")[1])];
        }
      }
    } else {
      param[key] = true;
    }
  }

  return param;

  function typeJudge(text) {
    if (!isNaN(text)) {
      // number
      return +text;
    } else if (text.indexOf("%") != -1) {
      // chinese
      return decodeURI(text);
    } else {
      return text;
    }
  }
}
```

## 2.实现一个最简单的模板引擎

> render('我是{{name}}，年龄{{age}}，性别{{sex}}',{
>     name:'姓名',
>     age:18
> })
> // 结果： 我是姓名，年龄18，性别undefined

```JavaScript
function render(template, key) {
  let reg = /{{[a-z]+}}/;

  while (reg.test(template)) {
    let matches = reg.exec(template);
    let text = key[matches[0].slice(2, matches[0].length - 2)];

    template = template.replace(matches[0], text);
  }

  return template;
}
```


## 3.将一个任意长的数字变成逗号分割的格式

> // 1234.56 => "1,234.56" , 123456789 => "123,456,789"
> parseToMoney(1234.56) // return "1,234.56"

```JavaScript
function parseToMoney(num) {
  let key = num + "";
  let postfix = .0;

  if (key.indexOf(".") != -1) {
    postfix = key.slice(key.indexOf("."));
  }

  let prefix = key.replace(postfix, "");

  let arr = prefix.split("");
  let flag = 1;
  for (let i = arr.length - 1; i >= 0; i--) {
    if (flag == 3) {
      arr.splice(i, 0, ",");
      flag = 0;
    }
    flag++;
  }

  if (arr[0] == ",") arr.shift();
  prefix = arr.join("");

  return prefix + postfix;
}
```

## 4.求和的函数sum

> // Should equal 15
> sum(1, 2, 3, 4, 5);
> // Should equal 0
> sum(5, null, -5);
> // Should equal 10
> sum('1.0', false, 1, true, 1, 'A', 1, 'B', 1, 'C', 1, 'D', 1,
>   'E', 1, 'F', 1, 'G', 1);
> // Should equal 0.3, not 0.30000000000000004
> sum(0.1, 0.2);


```JavaScript
function sum() {
  let arr = Array.prototype.slice.call(arguments);
  let count = 0;
  console.log(arr);
  for (let i = 0; i < arr.length; i++) {
    count += !isNaN(arr[i]) && parseFloat(arr[i]) || 0;
  }
  count = parseInt(count * 1000, 10) / 1000;
  console.log(count);
  return count;
}
```

## 5.拍平多维数组

> 传入仅包含数字的多维数组，返回拍平后的结果
> 如，传入[1,[2,3]]，返回[1,2,3]。
> 
> function flatten(arr) {
>   //return flattened_arr;
> }

```JavaScript
function flatten(arr) {
  let result = (arr + "").split(",");
  return result;
}
```

## 6.CSS表格样式

> 请写一个表格以及对应的CSS，使表格奇数行为白色背景，偶数行为灰色背景，鼠标移上去时为黄色背景。

```HTML
<table class="table">
  <tr><td>第一行</td></tr>
  <tr><td>第二行</td></tr>
  <tr><td>第三行</td></tr>
  <tr><td>第四行</td></tr>
</table>
 
<style>
  .table tr:nth-child(2n-1){
      background-color:white;
  }
  .table tr:nth-child(2n){
      background-color:grey;
  }
  .table tr:hover{
      background-color:yellow;
  }
</style>
```

## 7.DOM节点

> 写一个traverse函数，输出所有页面宽度和高度大于50像素的节点。

```JavaScript
function traverse(oNode) {
  var aResult = [];
  oNode = oNode || document.body;
  if (oNode.style) {
    var nWidth = window.parseInt(oNode.style.width, 10) || 0;
    var nHeight = window.parseInt(oNode.style.height, 10) || 0;
    if (nWidth > 50 && nHeight > 50) {
        aResult.push(oNode);
    }
  }
  var aChildNodes = oNode.childNodes;
  if (aChildNodes.length > 0) {
    for (var i = 0, l = aChildNodes.length; i < l; i++) {
      var oTmp = aChildNodes[i];
      aResult = aResult.concat(traverse(oTmp));
    }
  }
  return aResult;
}
```

## 8.删除DOM节点

> 原生JS实现，点击删除，删除该行的用户信息

```HTML
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title></title>
</head>
<body>
<style>
ul {
  list-style: none;
}

ul li {
  display: inline-flex;
}

.number, .name, .company, .contact, .address, .operation {
  width: 200px;
}

.operation {
  cursor: pointer;
}
</style>
<ul>
  <li><div class="number">序号</div><div class="name">姓名</div><div class="company">公司</div><div class="contact">联系方式</div><div class="address">地址</div><div class="operation">操作</div></li>
</ul>
<ul id="list">
  <li><div class="number">1</div><div class="name">张三</div><div class="company">广东XXX有限公司</div><div class="contact">guangdong@gmail.com</div><div class="address">中国广东</div><div class="operation">删除</div></li>
  <li><div class="number">2</div><div class="name">李四</div><div class="company">杭州XXX有限公司</div><div class="contact">hangzhou@gmail.com</div><div class="address">中国杭州</div><div class="operation">删除</div></li>
  <li><div class="number">3</div><div class="name">王二</div><div class="company">上海XXX有限公司</div><div class="contact">shanghai@gmail.com</div><div class="address">中国上海</div><div class="operation">删除</div></li>
</ul>
<script type="text/javascript">
// coding here
// 原生JS实现点击删除，删除该行客户信息
</script>
</body>
</html>
```

## 9.关于继承

> 1、Child继承自Parent；
> 2、执行p.set(20).get()返回结果为20；执行p.set(30).get()返回结果为30；
> 3、执行c.set(30).get()返回结果为50，执行p.get()返回结果为20； 

```JavaScript
let Parent = function () {
  this.value = 20;
}

Parent.prototype.set = function(num) {
  this.value = num;
  return this;
}

Parent.prototype.get = function() {
  return this.value;
}

let p = new Parent();

console.log(p.set(30).get());
console.log(p.set(20).get());

let Child = function () {
  Parent.call(this);  // 继承value

  this.set = function (num) { //复写
    this.value = this.value + num;
    return this;
  }

}

Child.prototype = new Parent();

let c = new Child();

console.log(c.set(30).get());
console.log(p.get());
```
